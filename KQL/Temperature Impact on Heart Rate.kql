Garmin
| extend
    AvgHR = toint(Column8),
    MinTempRaw = tostring(Column31),
    MaxTempRaw = tostring(Column34)
| where MinTempRaw !in ("", "--") and MaxTempRaw !in ("", "--") and isnotempty(AvgHR)
| extend
    MinTemp = todouble(MinTempRaw),
    MaxTemp = todouble(MaxTempRaw)
| extend
    TempRange = (MinTemp + MaxTemp) / 2
| extend
    TempBand = case(
        TempRange < 40, "â„ï¸ Cold (<40Â°F)",
        TempRange < 60, "ðŸŒ¬ï¸ Cool (40â€“59Â°F)",
        TempRange < 75, "ðŸŒ¤ï¸ Moderate (60â€“74Â°F)",
        TempRange < 90, "ðŸŒž Warm (75â€“89Â°F)",
        "ðŸ”¥ Hot (90Â°F+)")
| summarize AvgHeartRate = avg(AvgHR), SessionCount = count() by TempBand
| sort by TempBand
